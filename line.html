<!doctype html>
<html lang="es">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="style.css">
    <title>Chart.js</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.9.0/p5.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.9.0/addons/p5.dom.min.js"></script>

    <script src="https://cdn.jsdelivr.net/npm/chart.js@2.8.0/dist/Chart.min.js"></script>
</head>

<body>
  <nav class="navegador">
      <a href="index.html" >Index</a> <a href="line.html" class="actual">Line chart</a> <a href="bar.html">Bar chart</a> <a href="doughnut.html">Doughnut chart</a> <a href="c3js-line.html">Line Chart</a> <a href="treemap.html">Treemap</a>
  </nav>
  <nav class="descripcion">
    Variación en participación de Mujeres y Hombres artistas según etnicidad en los 18 Museos más importantes de E.E.U.U

  </nav>
    <canvas id="chart"></canvas>

    <script>
        var data,sel,opcion
        function preload(){
        data= loadTable("https://raw.githubusercontent.com/artofstat/ArtistDiversity/master/artistdata.csv","csv","header");
        }

        var hombres=0,mujeres=0,desconocido=0;

        var asia=0,white=0,hispanic=0,other=0,black=0;
  var masia=0,mwhite=0,mhispanic=0,mother=0,mblack=0;
  var hasia=0,hwhite=0,hhispanic=0,hother=0,hblack=0;
  var etiquetas=["Blanc@","Hispanic@ o Latin@","Afro o Afrodescendiente","Asiática/o","Otro"];

        function setup() {
            noCanvas();
            n = data.getRowCount();
for (var a = 0; a < n; a++) {
 if (data.get(a, 2) == "man"){ hombres++ }
 else if (data.get(a, 2) == "woman"){ mujeres++ }
 else{desconocido++}
}

for (var a = 0; a < n; a++) {
 if (data.get(a, 3) == "white"){ white++ }
 else if (data.get(a, 3) == "hispanic"){ hispanic++ }
 else if (data.get(a, 3) == "black"){ black++ }
 else if (data.get(a, 3) == "asian"){ asia++ }
 else{other++}
}
for (var a = 0; a < n; a++) {
 if (data.get(a, 2) == "woman" && data.get(a, 3) == "white"){ mwhite++ }
 else if (data.get(a, 2) == "woman" && data.get(a, 3) == "hispanic"){ mhispanic++ }
 else if (data.get(a, 2) == "woman" && data.get(a, 3) == "black"){ mblack++ }
 else if (data.get(a, 2) == "woman" && data.get(a, 3) == "asian"){ masia++ }
 else if (data.get(a, 2) == "woman" && data.get(a, 3) == "other"){mother++}
}
for (var a = 0; a < n; a++) {
 if (data.get(a, 2) == "man" && data.get(a, 3) == "white"){ hwhite++ }
 else if (data.get(a, 2) == "man" && data.get(a, 3) == "hispanic"){ hhispanic++ }
 else if (data.get(a, 2) == "man" && data.get(a, 3) == "black"){ hblack++ }
 else if (data.get(a, 2) == "man" && data.get(a, 3) == "asian"){ hasia++ }
 else if (data.get(a, 2) == "man" && data.get(a, 3) == "other"){hother++}
}
print(white);
print(black);
print(hispanic);
print(asia);
print(other);
print(mwhite);
print(mblack);
print(mhispanic);
print(masia);
print(mother);
print(hwhite);
print(hblack);
print(hhispanic);
print(hasia);
print(hother);
var datosm=[mwhite,mhispanic,mblack,masia,mother];
var datosh=[hwhite,hhispanic,hblack,hasia,hother];

new Chart(document.getElementById('chart').getContext('2d'), {
    type: 'line',
    data: {
        labels: etiquetas,
        datasets: [{
            label: 'Mujeres',
            backgroundColor: 'rgba(175,141,195,.1)',
            borderColor: 'rgb(175,141,195)',
            borderWidth: 2,
            pointRadius: 2,
            lineTension: 0,
            data: datosm,
        },
        {
            label: 'Hombres',
            backgroundColor: 'rgba(127,191,123,.1)',
            borderColor: 'rgb(127,191,123)',
            borderWidth: 2,
            pointRadius: 2,
            lineTension: 0,
            data: datosh,
        }]
    }
});

        }




    </script>

</body>

</html>
